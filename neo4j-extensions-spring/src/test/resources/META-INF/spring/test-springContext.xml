<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

  <!-- WARNING: Property placeholder resolution requires properties to be loaded
      without using nested xml imports. Currently it is not possible to simply import context
      xml files that load nested properties. This is only a limitation of the current property
      placeholder resolution. -->
  <bean id="neoTestProperties"
        class="org.springframework.context.support.PropertySourcesPlaceholderConfigurer">
    <property name="nullValue" value="null"/>
    <property name="ignoreResourceNotFound" value="true"/>
    <property name="ignoreUnresolvablePlaceholders" value="false"/>
    <property name="locations">
      <list>
        <value>classpath:META-INF/spring/test-springContext.properties</value>
        <value>classpath*:${project.artifactId}-maven.properties</value>
      </list>
    </property>
  </bean>

  <context:annotation-config/>

  <context:spring-configured/>

  <context:component-scan base-package="org.neo4j.extensions.test.spring"/>

  <bean id="communityNeoServerFactory" class="org.neo4j.extensions.test.spring.core.CommunityNeoServerTestFactory"/>

  <bean id="communityNeoServer" factory-bean="communityNeoServerFactory" factory-method="instance"
        init-method="start" destroy-method="stop"/>

</beans>
